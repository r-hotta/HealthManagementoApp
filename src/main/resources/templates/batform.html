<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>一覧 - </title>
	<meta charset="utf-8" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link rel="stylesheet" href="hyou.css">
	<link rel="stylesheet" th:href="@{/haikei.css}">

</head>

<body>

	<h1 th:text="${title}"></h1>
<form method="get" action="#" th:action="@{/dayk2}" th:object="${input}" >

		<div><p>名前 <input type="text" name="name" ><input type="submit" value="検索"></p></div>
		<div th:each=" res : ${dbList}"><input type="hidden" name="id" th:value="${res.id}"></div>

		<div th:if="${#fields.hasErrors('name')}" th:errors="*{name}">エラーメッセージ</div>

	</form>

	<table>

		<tr>

			<th>名前</th>
			<th>性別</th>
			<th>年齢</th>
			<th>身長 </th>
			<th>体重</th>
			<th>血圧(上）</th>
			<th>血圧（下）</th>
			<th>メモ</th>
			<th>判定</th>
			<th>編集</th>
		</tr>
		<tr th:each=" res : ${dbList}">
			<td>
				<form th:action="@{/day2}">
					<input type="hidden" name="id" th:value="${res.id}">
					<div><input type="submit" class="btn btn-link" th:value="${res.name}"></div>
				</form>
			</td>
			<td th:text="${res.seibetu}"></td>
			<td th:text="${res.age}"></td>
			<td th:text="${res.sinntyou}"></td>
			<td th:text="${res.taijuu}"></td>
			<td th:text="${res.ketuatuue}"></td>
			<td th:text="${res.ketuatusita}"></td>
			<td th:text="${res.memo}"></td>
			<td th:text="${res.type}"></td>
			<td>
				<form th:action="@{/edit2/{id}(id=${res.id})}">
					<div><input type="submit" class="btn btn-outline-warning" value="編集"></div>
				</form>
			</td>
			<!--			<td>-->
			<!--				<form th:action="@{/del2/{id}(id=${res.id})}">-->
			<!--					<input type="submit" value="削除" />-->
			<!--				</form>-->
			<!--			</td>-->
			<!--			<td>-->
			<!--				<form th:action="@{/cha2/{id}(id=${res.id})}">-->
			<!--					<input type="submit" value="判定変更" />-->
			<!--				</form>-->
			<!--			</td>-->
		</tr>
	</table>
	<p></p>

	<table>
		<tr>
			
			<td><form action="#" method="get" th:action="@{/form}">
			<div><input type="submit" class="btn btn-outline-success" value="健康者一覧"></div>
		</form></td>
			<td><form action="#" method="get" th:action="@{/alldel}">
		<div><input type="submit" class="btn btn-outline-info" id="btn" value="クリア"></div>
	</form>
	<script>
		window.addEventListener('DOMContentLoaded', function () {
			const btn = document.getElementById('btn');
			btn.addEventListener('click', confirmation, true);

			function confirmation() {
				const v = confirm('本当にクリアしますか？');
				if (v === false) {
					event.preventDefault();
				}
			}
		});
	</script></td>
		</tr>
	</table>
</body>

</html>